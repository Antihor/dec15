import{a as g,i as y}from"./assets/vendor-4yCzdkXl.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();async function u(r,o){const c="https://newsapi.org/v2",i="/everything",e="81088765cb514a5b98c190ea1c6dabf9",t=`${c}${i}`,n={q:r,apiKey:e,language:"en",sortBy:"relevancy",pageSize:10,page:o};return(await g.get(t,{params:n})).data}function L(r){const{urlToImage:o,title:c,author:i,publishedAt:e,description:t,sourse:n}=r;return`  <li class="card">
      <img src="${o}" alt="${n}" />
      <h3>${c}</h3>
      <h4>${t}</h4>
      <p>${e}</p>
      <p>${i}</p>
    </li>`}function b(r){return r.map(L).join("")}const s={form:document.querySelector(".js-form"),list:document.querySelector(".js-list"),more:document.querySelector(".js-more"),loader:document.querySelector(".loader")};let l,a,d;s.form.addEventListener("submit",v);s.more.addEventListener("click",w);async function v(r){r.preventDefault(),a=1,l=r.target.elements.query.value.trim(),l||y.warning({title:"Error!",message:"No query",position:"center"}),s.list.innerHTML="",p();const o=await u(l,a);d=Math.ceil(o.totalresults/10),h(),f(o.articles),m(),r.target.reset()}async function w(){a+=1;const r=await u(l,a);p(),f(r.articles),h(),m();const o=s.list.firstElementChild.getBoundingClientRect().height;scrollBy({behavior:"smooth",top:o*2}),s.form.reset()}function f(r){const o=b(r);s.list.insertAdjacentHTML("beforeend",o)}function q(){s.more.classList.remove("hidden")}function E(){s.more.classList.add("hidden")}function m(){a>=d?E():q()}function p(){s.loader.classList.remove("hidden")}function h(){s.loader.classList.add("hidden")}
//# sourceMappingURL=index.js.map
